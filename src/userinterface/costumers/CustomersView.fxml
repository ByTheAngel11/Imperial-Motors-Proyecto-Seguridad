<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="userinterface.costumers.CustomerListController"
            fx:id="contentArea"
            stylesheets="@/styles/inventory.css"
            styleClass="anchor-pane">

    <children>
        <VBox spacing="20"
              AnchorPane.topAnchor="24.0"
              AnchorPane.bottomAnchor="24.0"
              AnchorPane.leftAnchor="32.0"
              AnchorPane.rightAnchor="32.0">

            <HBox alignment="CENTER_LEFT" spacing="12">
                <Label text="Clientes"
                       styleClass="inv-title"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <Button fx:id="BtnRegisterCustomer"
                        text="+ Registrar cliente"
                        onAction="#onRegisterCustomer"
                        styleClass="inv-primary-button"/>
            </HBox>

            <HBox spacing="12" alignment="CENTER_LEFT">
                <TextField fx:id="TxtSearchEmail"
                           promptText="Buscar por nombre, correo o teléfono..."
                           styleClass="inv-search-field"
                           HBox.hgrow="ALWAYS"/>

                <ComboBox fx:id="CmbStatusFilter"
                          prefWidth="180"
                          promptText="Todos los estados"
                          styleClass="inv-filter"/>
            </HBox>

            <BorderPane prefHeight="0"
                        prefWidth="0"
                        styleClass="inv-table-card"
                        VBox.vgrow="ALWAYS">

                <center>
                    <TableView fx:id="TblCustomers">
                        <columns>
                            <TableColumn fx:id="ColNumber" text="ID" prefWidth="90"/>
                            <TableColumn fx:id="ColName" text="Nombre completo" prefWidth="260"/>
                            <TableColumn fx:id="ColEmail" text="Correo" prefWidth="260"/>
                            <TableColumn fx:id="ColPhone" text="Teléfono" prefWidth="160"/>
                        </columns>
                    </TableView>
                </center>

                <right>
                    <ScrollPane fitToWidth="true"
                                fitToHeight="true"
                                hbarPolicy="NEVER"
                                vbarPolicy="AS_NEEDED">

                        <content>
                            <VBox spacing="20"
                                  prefWidth="420"
                                  alignment="TOP_LEFT">

                                <padding>
                                    <Insets top="24" right="24" bottom="48" left="24"/>
                                </padding>

                                <Label text="Detalles del cliente"
                                       styleClass="inv-title"/>

                                <Separator/>

                                <GridPane hgap="24" vgap="18">
                                    <columnConstraints>
                                        <ColumnConstraints minWidth="110" halignment="LEFT"/>
                                        <ColumnConstraints hgrow="ALWAYS"/>
                                    </columnConstraints>

                                    <Label text="No. cliente" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblNumber" maxWidth="Infinity" styleClass="inv-detail-value"/>
                                    </StackPane>

                                    <Label text="Nombre" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblName" maxWidth="Infinity" styleClass="inv-detail-value"/>
                                    </StackPane>

                                    <Label text="Correo" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblEmail" maxWidth="Infinity" styleClass="inv-detail-value"/>
                                    </StackPane>

                                    <Label text="Teléfono" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="3" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblPhone" maxWidth="Infinity" styleClass="inv-detail-value"/>
                                    </StackPane>

                                    <Label text="Estado" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="4" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblStatus" maxWidth="Infinity" styleClass="inv-status-pill"/>
                                    </StackPane>

                                    <Label text="Creado" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="5" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblCreatedAt" maxWidth="Infinity" styleClass="inv-detail-value"/>
                                    </StackPane>

                                    <Label text="Actualizado" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                                    <StackPane GridPane.rowIndex="6" GridPane.columnIndex="1" styleClass="inv-search-field">
                                        <Label fx:id="LblUpdatedAt" maxWidth="Infinity" styleClass="inv-detail-value"/>
                                    </StackPane>
                                </GridPane>

                                <!-- ✅ Botón Editar más ancho (evita que se corte el texto) -->
                                <HBox spacing="8" alignment="CENTER_RIGHT">
                                    <Button fx:id="BtnEditCustomer"
                                            text="Editar"
                                            onAction="#onEditCustomer"
                                            styleClass="inv-action-button"
                                            minWidth="92"/>

                                    <Button fx:id="BtnDeleteCustomer"
                                            text="Eliminar"
                                            onAction="#onDeleteCustomer"
                                            styleClass="inv-action-button action-delete"/>
                                </HBox>
                            </VBox>
                        </content>
                    </ScrollPane>
                </right>

                <BorderPane.margin>
                    <Insets top="8" right="8" bottom="8" left="8"/>
                </BorderPane.margin>
            </BorderPane>
        </VBox>
    </children>
</AnchorPane>
